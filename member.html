<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>è—¥åš€ç®¡ å®˜æ–¹ç¶²ç«™ Yao NING GUAN OFFICIAL</title>
  <link rel="stylesheet" href="css/main.css">
  <link rel="stylesheet" href="css/home.css">
  <link rel="icon" type="image/png" href="https://i.meee.com.tw/ZdDarEK.png"> 
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <style>
    :root {
      --nav-height: 60px;
      --footer-height: 60px;
    }

    body {
      overflow: hidden; 
      margin: 0;
      background-color: #f5f5f5;
    }

    .story-scroll-container {
      position: relative;
      width: 100vw;
      height: calc(100vh - var(--nav-height) - var(--footer-height));
      overflow: hidden;
      flex: 1;
      background: transparent;
      z-index: 1;
    }

    .story-section {
      box-sizing: border-box;
      width: 100vw;
      height: 100%;
      padding: 0;
      position: absolute; 
      left: 0;
      top: 0;
      
      transition: transform .8s cubic-bezier(.45,1.35,.45,1), opacity .6s;
      will-change: transform, opacity;
      
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .story-section.next {
      opacity: 0;
      transform: translateY(100vh) scale(.98);
      z-index: 1;
      pointer-events: none;
    }

    .story-section.active {
      opacity: 1;
      transform: translateY(0) scale(1);
      z-index: 10;
      pointer-events: auto;
    }

    .story-section.prev {
      opacity: 0;
      transform: translateY(-60vh) scale(.97) rotate(-2deg);
      z-index: 2;
      pointer-events: none;
    }

    .story-content-box {
      display: flex;
      justify-content: center;
      align-items: center;
      width: 100%;
      height: 100%; 
      background: transparent;
      border: none;
      box-shadow: none;
      position: relative; 
    }
    
    .section-img {
      max-width: 94vw;
      max-height: 82vh;
      border-radius: 28px;
      background: #fff;
      padding: 6px;
      object-fit: contain;
      display: block;
      margin: 0 auto;
      border: none; 
      box-shadow: none !important; 
      cursor: pointer;
      box-shadow: 0 8px 40px rgba(0,0,0,0.1) !important;
    }

    .map-embed-container {
        max-width: 94vw;
        max-height: 82vh;
        width: 94vw; 
        height: 82vh; 
        
        display: block; 
        position: relative; 
        
        border-radius: 28px;
        background: #fff;
        padding: 0; 
        border: 4px solid #fff; 
        box-sizing: border-box;
        
        box-shadow: 0 8px 40px rgba(0,0,0,0.1) !important;
        
        overflow: hidden; 
    }

    .map-embed-iframe {
        position: absolute;
        left: 0;
        
        top: -75px; 
        
        width: 100%; 
        
        height: calc(100% + 75px); 
        
        border: none; 
        
        pointer-events: none; 
        transition: opacity 0.3s;
    }

    .map-embed-container.interaction-enabled .map-embed-iframe {
        pointer-events: auto;
    }

    .map-control-btn {
        position: absolute;
        bottom: 20px;
        right: 20px;
        z-index: 20;
        padding: 10px 20px;
        background-color: rgba(0, 0, 0, 0.7);
        color: white;
        border: 1px solid white;
        border-radius: 30px;
        font-size: 14px;
        cursor: pointer;
        transition: all 0.3s ease;
        backdrop-filter: blur(4px);
    }

    .map-control-btn:hover {
        background-color: rgba(0, 0, 0, 0.9);
        transform: scale(1.05);
    }

    .map-embed-container.interaction-enabled .map-control-btn {
        background-color: rgba(255, 255, 255, 0.9);
        color: black;
        border-color: black;
    }

    @media (max-width: 700px) {
      .story-content-box { height: 74vh; }
      .section-img { max-width: 100vw; max-height: 70vh; }
      
      .map-embed-container {
          max-width: 100vw;
          max-height: 70vh;
          width: 98vw;
          height: 68vh;
      }
    }
  </style>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-9DJGFDMENC"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-9DJGFDMENC');
</script>
</head>
<body>
  <nav class="navbar">
    <div class="navbar-container">
      <div class="navbar-right-group">
        <a href="index.html" class="navbar-item">HOME</a>
        <a href="function.html" class="navbar-item">åŠŸèƒ½é é¢</a>
        <a href="member.html" class="navbar-item">è—¥ç‰©åŸºæœ¬çŸ¥è­˜</a>
        <a href="set.html" class="navbar-item">æ¶è¨­æŠ€è¡“å…§å®¹</a>
        <a href="span.html" class="navbar-item">æŠ½çé é¢</a>
        <a href="contact.html" class="navbar-item">è¯çµ¡æˆ‘å€‘</a>
      </div>
      <div class="navbar-right">
        <button class="navbar-icon" aria-label="åŠŸèƒ½é¸å–®"></button>
      </div>
    </div>
  </nav>

  <div class="story-scroll-container" id="storyContainer">

    <section class="story-section about-section active" data-index="0">
      <div class="story-content-box">
        <img class="section-img" src="image/member1.png" alt="å°é¢1" loading="lazy" />
      </div>
    </section>
    
    <section class="story-section alert-section next" data-index="1">
      <div class="story-content-box">
        <img class="section-img" src="image/member2.png" alt="å°é¢2" loading="lazy" />
      </div>
    </section>
    
    <section class="story-section research-section next" data-index="2">
      <div class="story-content-box">
        <img class="section-img" src="image/member3.png" alt="å°é¢3" loading="lazy" />
      </div>
    </section>

    <section class="story-section map-section next" data-index="3">
      <div class="story-content-box">
        <div id="mapContainer" class="map-embed-container">
            <button id="mapToggleBtn" class="map-control-btn">ğŸ–ï¸ å•Ÿç”¨åœ°åœ–äº’å‹•</button>
            
            <iframe 
                id="myMapEmbed" 
                class="map-embed-iframe"
                src="https://www.google.com/maps/d/u/0/embed?mid=1b2Ae4ZlHgZsUYxZ3d-kPhCPEAfkY-cQ&ehbc=2E312F" 
                width="640"
                height="480"
                allowfullscreen 
                loading="eager" 
                title="Google My Map">
            </iframe>
        </div>
      </div>
    </section>
  </div>

  <footer>
    Copyright 2025 è—¥åš€ç®¡ (UI Design  David Cao , Coding Setup ã€ç¶²ç«™æ¶è¨­ç¶­è­·ã€è³‡å®‰æ§ç®¡ <a href="https://tw.linkedin.com/in/nasirlincy" target="_blank">  Nasir Lin</a>)
  </footer>

  <script>
    const sections = document.querySelectorAll('.story-section');
    const storyContainer = document.getElementById('storyContainer');
    const mapContainer = document.getElementById('mapContainer');
    const mapToggleBtn = document.getElementById('mapToggleBtn');

    let current = 0;
    let animating = false;
    
    const animationBuffer = 1200; 
    
    const imageUrls = [
      "image/member1.png",
      "image/member2.png",
      "image/member3.png"
    ];
    imageUrls.forEach(url => {
      const img = new Image();
      img.src = url;
    });

    let isMapInteractive = false;

    mapToggleBtn.addEventListener('click', (e) => {
        e.stopPropagation();
        isMapInteractive = !isMapInteractive;
        
        if (isMapInteractive) {
            mapContainer.classList.add('interaction-enabled');
            mapToggleBtn.textContent = "ğŸ”’ é–å®šåœ°åœ– (ä»¥ä¾¿æ»¾å‹•é é¢)";
        } else {
            mapContainer.classList.remove('interaction-enabled');
            mapToggleBtn.textContent = "ğŸ–ï¸ å•Ÿç”¨åœ°åœ–äº’å‹•";
        }
    });

    mapContainer.addEventListener('mouseleave', () => {
        if (isMapInteractive) {
            isMapInteractive = false;
            mapContainer.classList.remove('interaction-enabled');
            mapToggleBtn.textContent = "ğŸ–ï¸ å•Ÿç”¨åœ°åœ–äº’å‹•";
        }
    });

    function showSection(idx) {
      if (idx < 0 || idx >= sections.length) return;
      
      sections.forEach((sec, i) => {
        sec.classList.remove('prev', 'active', 'next');
        
        if (i < idx) sec.classList.add('prev');
        else if (i === idx) sec.classList.add('active');
        else sec.classList.add('next');
      });
      
      current = idx;

      if (current !== 3) {
          isMapInteractive = false;
          mapContainer.classList.remove('interaction-enabled');
          mapToggleBtn.textContent = "ğŸ–ï¸ å•Ÿç”¨åœ°åœ–äº’å‹•";
      }
    }

    function scrollHandler(e) {
      e.preventDefault(); 

      if (animating) return;
      
      const delta = e.wheelDelta || -e.deltaY || -e.detail;
      
      if (Math.abs(delta) < 30) return;

      if (delta < 0 && current < sections.length - 1) {
        animating = true;
        showSection(current + 1);
        setTimeout(() => animating = false, animationBuffer);
      } 
      else if (delta > 0 && current > 0) {
        animating = true;
        showSection(current - 1);
        setTimeout(() => animating = false, animationBuffer);
      }
    }

    let touchStartY = null;
    
    storyContainer.addEventListener('touchstart', e => {
      if (e.touches.length === 1) touchStartY = e.touches[0].clientY;
    }, { passive: false });
    
    storyContainer.addEventListener('touchmove', e => {
       e.preventDefault();
    }, { passive: false });

    storyContainer.addEventListener('touchend', e => {
      if (touchStartY === null) return;
      
      let endY = e.changedTouches[0].clientY;
      let diff = endY - touchStartY;
      
      if (Math.abs(diff) > 50 && !animating) {
        if (diff < 0 && current < sections.length - 1) {
          animating = true;
          showSection(current + 1);
          setTimeout(() => animating = false, animationBuffer);
        } else if (diff > 0 && current > 0) {
          animating = true;
          showSection(current - 1);
          setTimeout(() => animating = false, animationBuffer);
        }
      }
      touchStartY = null;
    });

    storyContainer.addEventListener('wheel', scrollHandler, { passive: false });

    document.addEventListener('keydown', (e) => {
      if (animating) return;
      
      if (e.key === 'ArrowDown' && current < sections.length - 1) {
        animating = true;
        showSection(current + 1);
        setTimeout(() => animating = false, animationBuffer);
      } else if (e.key === 'ArrowUp' && current > 0) {
        animating = true;
        showSection(current - 1);
        setTimeout(() => animating = false, animationBuffer);
      }
    });

    showSection(0); 
  </script>
</body>
</html>
